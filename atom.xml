<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://hanjingyuan.github.io</id>
    <title>汉景源的博客</title>
    <updated>2020-08-15T04:45:16.854Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://hanjingyuan.github.io"/>
    <link rel="self" href="https://hanjingyuan.github.io/atom.xml"/>
    <subtitle>我只是一个GIS工程师，来自长沙。</subtitle>
    <logo>https://hanjingyuan.github.io/images/avatar.png</logo>
    <icon>https://hanjingyuan.github.io/favicon.ico</icon>
    <rights>All rights reserved 2020, 汉景源的博客</rights>
    <entry>
        <title type="html"><![CDATA[git 增加忽略文件]]></title>
        <id>https://hanjingyuan.github.io/post/vbX1Ar8CE/</id>
        <link href="https://hanjingyuan.github.io/post/vbX1Ar8CE/">
        </link>
        <updated>2020-08-05T01:12:23.000Z</updated>
        <content type="html"><![CDATA[<pre><code>git rm -r --cached log
git add .
git commit -m 'update .gitignore
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[docker nginx]]></title>
        <id>https://hanjingyuan.github.io/post/lOiIFf0lH/</id>
        <link href="https://hanjingyuan.github.io/post/lOiIFf0lH/">
        </link>
        <updated>2020-07-27T14:17:49.000Z</updated>
        <content type="html"><![CDATA[<ol>
<li>安装nginx</li>
</ol>
<blockquote>
<p>docker pull nginx</p>
</blockquote>
<ol start="2">
<li>
<p>新建文件夹</p>
</li>
<li>
<p>映射运行</p>
</li>
</ol>
<blockquote>
<p>docker run -d -p 8086:80 -v /home/application/demo:/app -v /home/config:/etc/nginx/conf.d --name demo nginx</p>
</blockquote>
<ol start="4">
<li>查看运行情况</li>
</ol>
<blockquote>
<p>docker ps</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[linux常用命令]]></title>
        <id>https://hanjingyuan.github.io/post/FQLGTm52q/</id>
        <link href="https://hanjingyuan.github.io/post/FQLGTm52q/">
        </link>
        <updated>2020-06-24T04:06:51.000Z</updated>
        <content type="html"><![CDATA[<ol>
<li>nginx相关</li>
</ol>
<blockquote>
<p>1.重启： sudo nginx -s reload<br>
2.检测文件正确性：sudo nginx -t<br>
2.nginx位置：进入/usr/sbin,执行上面的命令</p>
</blockquote>
<ol>
<li>查找文件</li>
</ol>
<blockquote>
<p>1.蓝色代表文件夹<br>
2.nginx配置文件位于：/etc/nginx/conf.d文件夹内</p>
</blockquote>
<ol start="3">
<li>防火墙增加端口</li>
</ol>
<blockquote>
<p>1.增加端口:sudo firewall-cmd --zone=public --add-port=8303/tcp --permanent<br>
2.重启防火墙:sudo systemctl restart firewalld.service</p>
</blockquote>
<ol start="4">
<li>查看当前目录完整路径</li>
</ol>
<blockquote>
<p>pwd</p>
</blockquote>
<ol start="5">
<li>sh脚本命令相关</li>
</ol>
<blockquote>
<p>sudo sh ./app.sh stop 运行sh脚本<br>
set ff=unix 更改编码格式</p>
</blockquote>
<ol start="6">
<li>注册为linux服务</li>
</ol>
<blockquote>
<p>sudo wget http://10.14.3.160:9080/txt/map.jar<br>
mvn package -Dmaven.test.skip=true<br>
sudo ln -s  /home/deploy/xxpt/mapmap.jar  /etc/init.d/xxptmap<br>
sudo chmod a+wrx /etc/init.d/xxptmap<br>
sudo service xxptmap start/stop<br>
service xxptmap status<br>
chkconfig xxptmap on</p>
</blockquote>
<ol start="7">
<li>查找文件</li>
</ol>
<pre><code>find / -name filename.txt 根据名称查找/目录下的filename.txt文件。

find . -name &quot;*.xml&quot; 递归查找所有的xml文件

find . -name &quot;*&quot; |xargs grep &quot;hello&quot; 递归查找所有文件内容中包含hello world的xml文件

grep -H 'spring' *.xml 查找所以有的包含spring的xml文件

find ./ -size 0 | xargs rm -f &amp; 删除文件大小为零的文件

ls -l | grep '.jar' 查找当前目录中的所有jar文件

grep 'test' d* 显示所有以d开头的文件中包含test的行。

grep 'test' aa bb cc 显示在aa，bb，cc文件中匹配test的行。

grep '[a-z]\{5\}' aa 显示所有包含每个字符串至少有5个连续小写字符的字符串的行。
</code></pre>
<ol start="8">
<li>其他命令</li>
</ol>
<pre><code>
查看一个程序是否运行


ps –ef|grep tomcat 查看所有有关tomcat的进程

ps -ef|grep --color java 高亮要查询的关键字

终止进程

kill -9 19979 终止线程号位19979的进程

查看文件，包含隐藏文件

ls -al

当前工作目录

pwd

复制文件


cp source dest 复制文件

cp -r sourceFolder targetFolder 递归复制整个文件夹

scp sourecFile name@ip:addr 远程拷贝

创建目录

mkdir newfolder

删除目录


rmdir deleteEmptyFolder 删除空目录 

rm -rf deleteFile 递归删除目录中所有内容

移动文件

mv /temp/movefile /targetFolder

重命名

mv oldNameFile newNameFile

切换用户

su -username

修改文件权限

chmod 777 file.java file.java的权限-rwxrwxrwx，r表示读、w表示写、x表示可执行

压缩文件

tar -czf test.tar.gz /test1 /test2

列出压缩文件列表

tar -tzf test.tar.gz

解压文件

tar -xvzf test.tar.gz

查看文件前10行

head -n 10 example.txt

查看文件后10行

tail -n 10 example.txt

查看日志最近更新

tail -f exmaple.log 这个命令会自动显示新增内容，屏幕只显示10行内容的（可设置）。

使用超级管理员身份执行命令

sudo rm a.txt 使用管理员身份删除文件

查看端口占用情况

netstat -tln | grep 8080 查看端口8080的使用情况

查看端口属于哪个进程

lsof -i :8080

查看进程

ps aux|grep java 查看java进程

ps aux 查看所有进程

以树状格式列出目录

tree a

PS：Mac下使用tree命令

文件下载


wget http://file.tgz 

PS ：Mac下安装wget命令

curl http://file.tgz

网络检测

ping www.just-ping.com

远程登录

ssh userName@ip

打印信息

echo $JAVA_HOME 打印java home环境变量的值
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[java服务bat脚本配置]]></title>
        <id>https://hanjingyuan.github.io/post/L8syXUk_m/</id>
        <link href="https://hanjingyuan.github.io/post/L8syXUk_m/">
        </link>
        <updated>2020-06-10T09:12:14.000Z</updated>
        <content type="html"><![CDATA[<pre><code>install.bat 
net stop com-hnup-gis-sso-gateway
sc delete  com-hnup-gis-sso-gateway
%~dp0com-hnup-gis-sso-gateway.exe install 
net start com-hnup-gis-sso-gateway
pause
</code></pre>
<pre><code>run.bat
java -jar com-hnup-gis-osmp-serv.jar  
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[openlayers中icon融合加文字白边]]></title>
        <id>https://hanjingyuan.github.io/post/FCJ7DjNlr/</id>
        <link href="https://hanjingyuan.github.io/post/FCJ7DjNlr/">
        </link>
        <updated>2020-06-09T06:30:17.000Z</updated>
        <content type="html"><![CDATA[<pre><code class="language-js">    zfServiceApi.transCoors2000ToCST(coors[0],coors[1]).then(resp=&gt;{
        let data = resp;
        var canvas = document.createElement(&quot;canvas&quot;);
        canvas.width = 100;
        canvas.height = 40;
        var context = canvas.getContext(&quot;2d&quot;);
        context.rect(0 , 0 , canvas.width , canvas.height);
        var myImage = new Image();
        myImage.src = &quot;./assets/images/base.png&quot;;  //背景图片 你自己本地的图片或者在线图片
        myImage.crossOrigin = 'Anonymous';
        myImage.onload = function(){
            context.drawImage(myImage , 0 , 0 , 36 , 40);
            var myImage2 = new Image();
            myImage2.src = item.Image;  //你自己本地的图片或者在线图片
            myImage2.crossOrigin = 'Anonymous';
            myImage2.onload = function(){
                context.drawImage(myImage2 , 7 , 7 , 22 , 22);

                let x = data[1];
                let y = data[2];
                x = x.split(&quot;:&quot;)[1];
                y = y.split(&quot;:&quot;)[1];
                let feature = new ol.Feature({
                    geometry:new ol.geom.Point([x,y])
                });
                let style = new ol.style.Style({
                    image: new ol.style.Icon(({
                        anchor: [0.5, 46],
                        anchorXUnits: 'fraction',
                        anchorYUnits: 'pixels',
                        img: canvas,
                        src:undefined,
                        imgSize: canvas ? [canvas.width, canvas.height] : undefined
                    })),
                    text: new ol.style.Text({
                        text:  item.CreateName,
                        font: 'bold 16px PingFang SC',
                        overflow: true,
                        fill: new ol.style.Fill({
                            color: 'rgba(66, 133, 244,1)'
                        }),
                        backgroundStroke: ol.style.Stroke({
                            color: '#ffffff',
                            width: 1
                        }),
                        backgroundFill: ol.style.Fill({
                            color: &quot;#ffffff&quot;
                        }),
                        placement: &quot;point&quot;,
                        offsetX: 5,
                        offsetY: -25,
                        stroke: new ol.style.Stroke({
                            color: '#ffffff',
                            width: 3
                        })
                    })
                });
                feature.setStyle(style);
            }
        };


    });
    ```</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[openlayers分辨率和比例尺]]></title>
        <id>https://hanjingyuan.github.io/post/73V4Mg8d1/</id>
        <link href="https://hanjingyuan.github.io/post/73V4Mg8d1/">
        </link>
        <updated>2020-05-21T10:02:12.000Z</updated>
        <content type="html"><![CDATA[<blockquote>
<p>比例尺——屏幕上1米代表多少地图坐标单位；分辨率——屏幕上一个像素代表多少地图坐标单位。<br>
两者的转换关系是：scale = resolution * 96* 39.3701（1米=39.3701英寸，1英寸=96像素，96或者72要根据实际情况来决定。）<br>
对于上述公式，指的是投影坐标系，如果是经纬度坐标系，就要得到一度（经纬度）等于多少米即可；</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[geotools maven仓库配置]]></title>
        <id>https://hanjingyuan.github.io/post/io2CxfhdM/</id>
        <link href="https://hanjingyuan.github.io/post/io2CxfhdM/">
        </link>
        <updated>2020-05-18T02:33:50.000Z</updated>
        <content type="html"><![CDATA[<ol>
<li>配置maven的setting.xml，注意不要把mirror配置为*，不然会拦截</li>
</ol>
<pre><code class="language-xml">  &lt;mirrors&gt;
	 &lt;mirror&gt;
		&lt;id&gt;alimaven&lt;/id&gt;
		&lt;name&gt;aliyun maven&lt;/name&gt;
		&lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt;
		&lt;mirrorOf&gt;*,!osgeo,!maven2-repository.dev.java.net,!boundless&lt;/mirrorOf&gt; 
	 &lt;/mirror&gt;
  &lt;/mirrors&gt;
</code></pre>
<ol start="2">
<li>配置pom文件，增加对应所需要的镜像即可；</li>
</ol>
<pre><code class="language-xml">    &lt;repositories&gt;
        &lt;repository&gt;
            &lt;id&gt;osgeo&lt;/id&gt;
            &lt;name&gt;OSGeo Release Repository&lt;/name&gt;
            &lt;url&gt;https://repo.osgeo.org/repository/release/&lt;/url&gt;
            &lt;snapshots&gt;&lt;enabled&gt;false&lt;/enabled&gt;&lt;/snapshots&gt;
            &lt;releases&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/releases&gt;
        &lt;/repository&gt;
        &lt;repository&gt;
            &lt;id&gt;osgeo-snapshot&lt;/id&gt;
            &lt;name&gt;OSGeo Snapshot Repository&lt;/name&gt;
            &lt;url&gt;https://repo.osgeo.org/repository/snapshot/&lt;/url&gt;
            &lt;snapshots&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/snapshots&gt;
            &lt;releases&gt;&lt;enabled&gt;false&lt;/enabled&gt;&lt;/releases&gt;
        &lt;/repository&gt;
    &lt;/repositories&gt;
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[通用滚动条样式]]></title>
        <id>https://hanjingyuan.github.io/post/-8fA9FS8r/</id>
        <link href="https://hanjingyuan.github.io/post/-8fA9FS8r/">
        </link>
        <updated>2020-05-09T01:36:28.000Z</updated>
        <content type="html"><![CDATA[<pre><code class="language-css">//公共滚动条样式
::-webkit-scrollbar {/*滚动条整体样式*/
  width: 5px;     /*高宽分别对应横竖滚动条的尺寸*/
  height: 1px;
}
::-webkit-scrollbar-thumb {/*滚动条里面小方块*/
  border-radius: 5px;
  -webkit-box-shadow: inset 0 0 2.5px rgba(0,0,0,0.2);
  background: #535353;
}
::-webkit-scrollbar-track {/*滚动条里面轨道*/
  -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.2);
  border-radius: 5px;
  background: #EDEDED;
}
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[pg常用方法]]></title>
        <id>https://hanjingyuan.github.io/post/ZssQT_n6I/</id>
        <link href="https://hanjingyuan.github.io/post/ZssQT_n6I/">
        </link>
        <updated>2020-04-07T06:12:44.000Z</updated>
        <content type="html"><![CDATA[<ol>
<li>时间戳设置</li>
</ol>
<pre><code class="language-sql">drop table if exists student;
create table student(
   id int primary key     not null,
   name        char(10)   not null,   
   address     char(50),
   create_time timestamp default current_timestamp,
   update_time timestamp default current_timestamp
);
</code></pre>
<ol start="2">
<li>修改坐标系</li>
</ol>
<blockquote>
<p>SELECT UpdateGeometrySRID('表名','geom',32649);</p>
</blockquote>
<ol start="3">
<li>创建空间索引</li>
</ol>
<blockquote>
<p>CREATE INDEX tb_map_analysis_fwx_gist ON tb_map_analysis_fwx USING GIST ( geom);<br>
CREATE INDEX 索引名称 ON 表名称 USING GIST ( 字段名称);</p>
</blockquote>
<ol start="4">
<li>空间数据库建表方法</li>
</ol>
<blockquote>
<p>polygon和multipolygon可以混合存储，使用geometry字段；将字段定义好坐标系，使用方法2，然后使用方法3创建空间索引即可；</p>
</blockquote>
<ol start="5">
<li>坐标的转化</li>
</ol>
<blockquote>
<p>SELECT ST_AsText(ST_Transform(st_geometryfromtext('POINT(120.8 20.5)',4490),4547));</p>
</blockquote>
<ol start="6">
<li>docker下的pg安装</li>
</ol>
<blockquote>
<p>docker pull kartoza/postgis:10.0-2.4<br>
docker run -d --name postgresql2 --restart always -e POSTGRES_USER=postgres -e POSTGRES_PASS='xxzx_1234' -e ALLOW_IP_RANGE=0.0.0.0/0 -v /docker_root/postgresql11-docker:/var/lib/postgresql -v /4T/tmp:/tmp/tmp -p 5432:5432 -t kartoza/postgis:10.0-2.4</p>
</blockquote>
<ol start="7">
<li>pg中单环转多环</li>
</ol>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[postgis polygon转multipolygon]]></title>
        <id>https://hanjingyuan.github.io/post/WiPCj1MDD/</id>
        <link href="https://hanjingyuan.github.io/post/WiPCj1MDD/">
        </link>
        <updated>2020-03-31T02:02:33.000Z</updated>
        <content type="html"><![CDATA[<pre><code>ALTER TABLE my_table
    ALTER COLUMN geom TYPE geometry(MultiPolygon,4490) USING ST_Multi(geom);
</code></pre>
]]></content>
    </entry>
</feed>