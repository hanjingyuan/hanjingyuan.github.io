<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://hanjingyuan.github.io</id>
    <title>汉景源的博客</title>
    <updated>2020-08-02T13:40:32.032Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://hanjingyuan.github.io"/>
    <link rel="self" href="https://hanjingyuan.github.io/atom.xml"/>
    <subtitle>我只是一个GIS工程师，来自长沙。</subtitle>
    <logo>https://hanjingyuan.github.io/images/avatar.png</logo>
    <icon>https://hanjingyuan.github.io/favicon.ico</icon>
    <rights>All rights reserved 2020, 汉景源的博客</rights>
    <entry>
        <title type="html"><![CDATA[docker nginx]]></title>
        <id>https://hanjingyuan.github.io/post/lOiIFf0lH/</id>
        <link href="https://hanjingyuan.github.io/post/lOiIFf0lH/">
        </link>
        <updated>2020-07-27T14:17:49.000Z</updated>
        <content type="html"><![CDATA[<ol>
<li>安装nginx</li>
</ol>
<blockquote>
<p>docker pull nginx</p>
</blockquote>
<ol start="2">
<li>
<p>新建文件夹</p>
</li>
<li>
<p>映射运行</p>
</li>
</ol>
<blockquote>
<p>docker run -d -p 8086:80 -v /home/application/demo:/app -v /home/config:/etc/nginx/conf.d --name demo nginx</p>
</blockquote>
<ol start="4">
<li>查看运行情况</li>
</ol>
<blockquote>
<p>docker ps</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[linux常用命令]]></title>
        <id>https://hanjingyuan.github.io/post/FQLGTm52q/</id>
        <link href="https://hanjingyuan.github.io/post/FQLGTm52q/">
        </link>
        <updated>2020-06-24T04:06:51.000Z</updated>
        <content type="html"><![CDATA[<ol>
<li>nginx相关</li>
</ol>
<blockquote>
<p>1.重启： sudo nginx -s reload<br>
2.检测文件正确性：sudo nginx -t<br>
2.nginx位置：进入/usr/sbin,执行上面的命令</p>
</blockquote>
<ol>
<li>查找文件</li>
</ol>
<blockquote>
<p>1.蓝色代表文件夹<br>
2.nginx配置文件位于：/etc/nginx/conf.d文件夹内</p>
</blockquote>
<ol start="3">
<li>防火墙增加端口</li>
</ol>
<blockquote>
<p>1.增加端口:sudo firewall-cmd --zone=public --add-port=8303/tcp --permanent<br>
2.重启防火墙:sudo systemctl restart firewalld.service</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[java服务bat脚本配置]]></title>
        <id>https://hanjingyuan.github.io/post/L8syXUk_m/</id>
        <link href="https://hanjingyuan.github.io/post/L8syXUk_m/">
        </link>
        <updated>2020-06-10T09:12:14.000Z</updated>
        <content type="html"><![CDATA[<pre><code>install.bat 
net stop com-hnup-gis-sso-gateway
sc delete  com-hnup-gis-sso-gateway
%~dp0com-hnup-gis-sso-gateway.exe install 
net start com-hnup-gis-sso-gateway
pause
</code></pre>
<pre><code>run.bat
java -jar com-hnup-gis-osmp-serv.jar  
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[openlayers中icon融合加文字白边]]></title>
        <id>https://hanjingyuan.github.io/post/FCJ7DjNlr/</id>
        <link href="https://hanjingyuan.github.io/post/FCJ7DjNlr/">
        </link>
        <updated>2020-06-09T06:30:17.000Z</updated>
        <content type="html"><![CDATA[<pre><code class="language-js">    zfServiceApi.transCoors2000ToCST(coors[0],coors[1]).then(resp=&gt;{
        let data = resp;
        var canvas = document.createElement(&quot;canvas&quot;);
        canvas.width = 100;
        canvas.height = 40;
        var context = canvas.getContext(&quot;2d&quot;);
        context.rect(0 , 0 , canvas.width , canvas.height);
        var myImage = new Image();
        myImage.src = &quot;./assets/images/base.png&quot;;  //背景图片 你自己本地的图片或者在线图片
        myImage.crossOrigin = 'Anonymous';
        myImage.onload = function(){
            context.drawImage(myImage , 0 , 0 , 36 , 40);
            var myImage2 = new Image();
            myImage2.src = item.Image;  //你自己本地的图片或者在线图片
            myImage2.crossOrigin = 'Anonymous';
            myImage2.onload = function(){
                context.drawImage(myImage2 , 7 , 7 , 22 , 22);

                let x = data[1];
                let y = data[2];
                x = x.split(&quot;:&quot;)[1];
                y = y.split(&quot;:&quot;)[1];
                let feature = new ol.Feature({
                    geometry:new ol.geom.Point([x,y])
                });
                let style = new ol.style.Style({
                    image: new ol.style.Icon(({
                        anchor: [0.5, 46],
                        anchorXUnits: 'fraction',
                        anchorYUnits: 'pixels',
                        img: canvas,
                        src:undefined,
                        imgSize: canvas ? [canvas.width, canvas.height] : undefined
                    })),
                    text: new ol.style.Text({
                        text:  item.CreateName,
                        font: 'bold 16px PingFang SC',
                        overflow: true,
                        fill: new ol.style.Fill({
                            color: 'rgba(66, 133, 244,1)'
                        }),
                        backgroundStroke: ol.style.Stroke({
                            color: '#ffffff',
                            width: 1
                        }),
                        backgroundFill: ol.style.Fill({
                            color: &quot;#ffffff&quot;
                        }),
                        placement: &quot;point&quot;,
                        offsetX: 5,
                        offsetY: -25,
                        stroke: new ol.style.Stroke({
                            color: '#ffffff',
                            width: 3
                        })
                    })
                });
                feature.setStyle(style);
            }
        };


    });
    ```</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[openlayers分辨率和比例尺]]></title>
        <id>https://hanjingyuan.github.io/post/73V4Mg8d1/</id>
        <link href="https://hanjingyuan.github.io/post/73V4Mg8d1/">
        </link>
        <updated>2020-05-21T10:02:12.000Z</updated>
        <content type="html"><![CDATA[<blockquote>
<p>比例尺——屏幕上1米代表多少地图坐标单位；分辨率——屏幕上一个像素代表多少地图坐标单位。<br>
两者的转换关系是：scale = resolution * 96* 39.3701（1米=39.3701英寸，1英寸=96像素，96或者72要根据实际情况来决定。）<br>
对于上述公式，指的是投影坐标系，如果是经纬度坐标系，就要得到一度（经纬度）等于多少米即可；</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[geotools maven仓库配置]]></title>
        <id>https://hanjingyuan.github.io/post/io2CxfhdM/</id>
        <link href="https://hanjingyuan.github.io/post/io2CxfhdM/">
        </link>
        <updated>2020-05-18T02:33:50.000Z</updated>
        <content type="html"><![CDATA[<ol>
<li>配置maven的setting.xml，注意不要把mirror配置为*，不然会拦截</li>
</ol>
<pre><code class="language-xml">  &lt;mirrors&gt;
	 &lt;mirror&gt;
		&lt;id&gt;alimaven&lt;/id&gt;
		&lt;name&gt;aliyun maven&lt;/name&gt;
		&lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public/&lt;/url&gt;
		&lt;mirrorOf&gt;*,!osgeo,!maven2-repository.dev.java.net,!boundless&lt;/mirrorOf&gt; 
	 &lt;/mirror&gt;
  &lt;/mirrors&gt;
</code></pre>
<ol start="2">
<li>配置pom文件，增加对应所需要的镜像即可；</li>
</ol>
<pre><code class="language-xml">    &lt;repositories&gt;
        &lt;repository&gt;
            &lt;id&gt;osgeo&lt;/id&gt;
            &lt;name&gt;OSGeo Release Repository&lt;/name&gt;
            &lt;url&gt;https://repo.osgeo.org/repository/release/&lt;/url&gt;
            &lt;snapshots&gt;&lt;enabled&gt;false&lt;/enabled&gt;&lt;/snapshots&gt;
            &lt;releases&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/releases&gt;
        &lt;/repository&gt;
        &lt;repository&gt;
            &lt;id&gt;osgeo-snapshot&lt;/id&gt;
            &lt;name&gt;OSGeo Snapshot Repository&lt;/name&gt;
            &lt;url&gt;https://repo.osgeo.org/repository/snapshot/&lt;/url&gt;
            &lt;snapshots&gt;&lt;enabled&gt;true&lt;/enabled&gt;&lt;/snapshots&gt;
            &lt;releases&gt;&lt;enabled&gt;false&lt;/enabled&gt;&lt;/releases&gt;
        &lt;/repository&gt;
    &lt;/repositories&gt;
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[通用滚动条样式]]></title>
        <id>https://hanjingyuan.github.io/post/-8fA9FS8r/</id>
        <link href="https://hanjingyuan.github.io/post/-8fA9FS8r/">
        </link>
        <updated>2020-05-09T01:36:28.000Z</updated>
        <content type="html"><![CDATA[<pre><code class="language-css">//公共滚动条样式
::-webkit-scrollbar {/*滚动条整体样式*/
  width: 5px;     /*高宽分别对应横竖滚动条的尺寸*/
  height: 1px;
}
::-webkit-scrollbar-thumb {/*滚动条里面小方块*/
  border-radius: 5px;
  -webkit-box-shadow: inset 0 0 2.5px rgba(0,0,0,0.2);
  background: #535353;
}
::-webkit-scrollbar-track {/*滚动条里面轨道*/
  -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.2);
  border-radius: 5px;
  background: #EDEDED;
}
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[pg常用方法]]></title>
        <id>https://hanjingyuan.github.io/post/ZssQT_n6I/</id>
        <link href="https://hanjingyuan.github.io/post/ZssQT_n6I/">
        </link>
        <updated>2020-04-07T06:12:44.000Z</updated>
        <content type="html"><![CDATA[<ol>
<li>时间戳设置</li>
</ol>
<pre><code class="language-sql">drop table if exists student;
create table student(
   id int primary key     not null,
   name        char(10)   not null,   
   address     char(50),
   create_time timestamp default current_timestamp,
   update_time timestamp default current_timestamp
);
</code></pre>
<ol start="2">
<li>修改坐标系</li>
</ol>
<blockquote>
<p>SELECT UpdateGeometrySRID('表名','geom',32649);</p>
</blockquote>
<ol start="3">
<li>创建空间索引</li>
</ol>
<blockquote>
<p>CREATE INDEX tb_map_analysis_fwx_gist ON tb_map_analysis_fwx USING GIST ( geom);<br>
CREATE INDEX 索引名称 ON 表名称 USING GIST ( 字段名称);</p>
</blockquote>
<ol start="4">
<li>空间数据库建表方法</li>
</ol>
<blockquote>
<p>polygon和multipolygon可以混合存储，使用geometry字段；将字段定义好坐标系，使用方法2，然后使用方法3创建空间索引即可；</p>
</blockquote>
<ol start="5">
<li>坐标的转化</li>
</ol>
<blockquote>
<p>SELECT ST_AsText(ST_Transform(st_geometryfromtext('POINT(120.8 20.5)',4490),4547));</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[postgis polygon转multipolygon]]></title>
        <id>https://hanjingyuan.github.io/post/WiPCj1MDD/</id>
        <link href="https://hanjingyuan.github.io/post/WiPCj1MDD/">
        </link>
        <updated>2020-03-31T02:02:33.000Z</updated>
        <content type="html"><![CDATA[<pre><code>ALTER TABLE my_table
    ALTER COLUMN geom TYPE geometry(MultiPolygon,4490) USING ST_Multi(geom);
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ArcGIS Server常用方法]]></title>
        <id>https://hanjingyuan.github.io/post/-ngzGVnMK/</id>
        <link href="https://hanjingyuan.github.io/post/-ngzGVnMK/">
        </link>
        <updated>2020-03-14T07:13:19.000Z</updated>
        <content type="html"><![CDATA[<pre><code>identify面查询方法
http://10.14.3.41:6080/arcgis/rest/services/HNPHYZT/MapServer/identify?geometry=%7B%22rings%22%3A%5B%5B%5B110.16831%2C28.25005%5D%2C%5B110.16276%2C28.24864%5D%2C%5B110.16498%2C28.24886%5D%2C%5B110.16831%2C28.25005%5D%2C%5D%5D%2C%22spatialReference%22%3A%7B%22wkid%22%3A4490%7D%7D&amp;geometryType=esriGeometryPolygon&amp;sr=4490&amp;layers=4&amp;layerDefs=&amp;time=&amp;layerTimeOptions=&amp;tolerance=1&amp;mapExtent=83.21649896800005%2C18.498789527000042%2C134.81281152600002%2C35.129373515000054&amp;imageDisplay=800%2C850%2C96&amp;returnGeometry=true&amp;maxAllowableOffset=&amp;dynamicLayers=&amp;returnZ=false&amp;returnM=false&amp;gdbVersion=&amp;f=html
</code></pre>
<pre><code>http://10.14.3.41:6080/arcgis/rest/services/HNPHYZT/MapServer/2/query?where=&amp;text=&amp;objectIds=&amp;time=&amp;geometry=%7B%22rings%22%3A%5B%5B%5B113.07721%2C28.16075%5D%2C%5B113.07278%2C28.15478%5D%2C%5B113.08181%2C28.15462%5D%2C%5B113.07721%2C28.16075%5D%2C%5D%5D%2C%22spatialReference%22%3A%7B%22wkid%22%3A4490%7D%7D&amp;geometryType=esriGeometryPolygon&amp;inSR=&amp;spatialRel=esriSpatialRelWithin&amp;relationParam=&amp;outFields=*&amp;returnGeometry=true&amp;maxAllowableOffset=&amp;outSR=&amp;returnIdsOnly=false&amp;returnCountOnly=false&amp;orderByFields=&amp;groupByFieldsForStatistics=&amp;outStatistics=&amp;returnZ=false&amp;returnM=false&amp;gdbVersion=&amp;f=html
</code></pre>
]]></content>
    </entry>
</feed>